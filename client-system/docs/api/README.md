# API接口文档

## 简介

本目录包含微信小程序电商项目的API接口文档，用于指导前后端分离后的接口实现。

## 文件列表

- [api-doc.md](./api-doc.md) - 主要API接口文档，包含了所有接口定义、请求和响应格式

## 文档使用说明

1. 文档基于RESTful风格设计接口
2. 所有API接口基础路径为 `/api/v1`
3. 接口按功能模块分类（用户、个人资料、收货地址、首页、购物车、订单等）
4. 每个接口包含URL、请求方法、请求参数、响应格式等信息
5. 文档会随着项目开发不断更新

## 接口开发规范

1. **响应格式统一**：所有接口返回JSON格式数据，包含success、message、data三个基本字段
2. **状态码使用**：使用标准HTTP状态码表示请求状态
3. **身份验证**：需要登录的接口，在请求头中使用Bearer Token方式认证
4. **错误处理**：错误时返回有意义的错误信息和错误码
5. **分页处理**：列表数据支持分页，返回包含总数和当前页数据

## 接口模块分类

接口按功能划分为以下模块：

1. **用户模块** - 用户注册、登录、信息获取等基础功能
2. **个人资料模块** - 用户头像、昵称、生日等个人信息管理
3. **收货地址模块** - 用户收货地址的增删改查和默认地址设置
4. **首页模块** - 轮播图、分类、热门商品等首页显示内容
5. **购物车模块** - 购物车商品管理
6. **订单模块** - 订单创建和管理
7. **搜索模块** - 商品搜索功能
8. **商品详情模块** - 商品详情信息获取
9. **定制服务模块** - 定制需求提交和管理

## 最近更新

- 2025-05-31: 增加了个人资料模块和收货地址模块的接口定义
- 2025-05-25: 初始化API文档

## 前后端分离计划

当前项目在前端使用本地存储和模拟数据，后期将实现真正的前后端分离。
前端代码中已经标记了需要修改的部分，实现真正API调用时，将依据本文档进行改造。

### 用户信息和地址管理的前后端分离计划

目前用户信息和地址管理使用了统一的profileService进行本地存储管理，未来迁移到后端API时：

1. 保持相同的接口命名和参数结构
2. 替换本地存储调用为API请求
3. 添加适当的错误处理和加载状态
4. 优化数据缓存策略以提高性能 